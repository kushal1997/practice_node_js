<!DOCTYPE html>
<html lang="en">
<head>
   <%- include('./partials/head.ejs') %>
    <title>Add New Blog</title>
</head>
<body>
    <%- include('./partials/nav.ejs')  %>  
    
    <div class="container mt-5 text-light p-5 rounded">
      <h1 class="mb-4">Create New Blog</h1>
      <% if (locals.error) { %>
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
          <%= locals.error %>
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      <% } %>
      <form action="/blog/new" method="POST" enctype="multipart/form-data">
          <div class="form-group">
            <label for="title">Title</label>
            <input type="text" class="form-control" id="title" name="title" required>
          </div>
          <div class="form-group">
            <label for="body">Body</label>
            <textarea class="form-control" id="body" name="body" rows="5" required></textarea>
          </div>
          <div class="form-group">
            <label>Cover Image</label>
            <div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="imageOption" id="imageLinkOption" value="link" checked>
                <label class="form-check-label" for="imageLinkOption">Link</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="imageOption" id="imageUploadOption" value="upload">
                <label class="form-check-label" for="imageUploadOption">Upload</label>
              </div>
            </div>
          </div>
          <div class="form-group" id="linkInputGroup">
            <label for="coverImageUrl">Cover Image URL</label>
            <input type="text" class="form-control" id="coverImageUrl" name="coverImageUrl">
          </div>
          <div class="form-group d-none" id="uploadInputGroup">
            <label for="coverImageFile">Upload Image</label>
            <input type="file" class="form-control-file" id="coverImageFile" name="coverImageFile">
          </div>
          <button type="submit" class="btn btn-primary">Create Blog</button>
        </form>
    </div>
  
 
    <%- include('./partials/script.ejs') %>
    <script>
        $(document).ready(function() {
          $('input[name="imageOption"]').change(function() {
            if ($(this).val() === 'link') {
              $('#linkInputGroup').removeClass('d-none');
              $('#uploadInputGroup').addClass('d-none');
            } else {
              $('#linkInputGroup').addClass('d-none');
              $('#uploadInputGroup').removeClass('d-none');
            }
          });
        });
      </script>
</body>
</html>